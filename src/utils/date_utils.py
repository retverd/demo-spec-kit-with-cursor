"""Утилиты расчёта диапазона дат для выгрузки курсов."""

from datetime import date, timedelta
from typing import List


def get_last_7_days() -> List[date]:
    """
    Рассчитать последние 7 календарных дней: [сегодня-6, …, сегодня] (включительно, всего 7 дат).

    Returns:
        Список из 7 объектов date, начиная с сегодня минус 6 дней и заканчивая сегодня.
        Даты расположены в хронологическом порядке (от старшей к младшей).

    Пример:
        Если сегодня 2025-12-02, возвращается:
        [date(2025-11-26), date(2025-11-27), ..., date(2025-12-02)]
    """
    today = date.today()
    # Рассчитываем 7 дней: [сегодня-6, …, сегодня] включительно
    start_date = today - timedelta(days=6)
    return [start_date + timedelta(days=i) for i in range(7)]
